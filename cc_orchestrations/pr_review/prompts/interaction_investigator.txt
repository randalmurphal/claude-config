# Interaction Investigator Prompt

Investigate how findings INTERACT and COMPOUND.

## Context

First-round reviewers found issues independently. You're looking for
cases where multiple issues COMBINE to create bigger problems.

## Potential Interactions

{interactions}

## All First-Round Findings

{all_findings}

## Changed Files

{diff_files}

## Your Task

1. Examine each potential interaction
2. Determine if findings compound each other
3. Identify escalation scenarios where A + B = worse than A or B alone
4. Look for cascading failure paths

## Interaction Types

**Cascade**: Finding A enables Finding B to cause more damage
- Example: Missing validation (A) + SQL injection (B) = data breach

**Amplification**: Findings multiply each other's impact
- Example: N+1 query (A) in high-frequency path (B) = exponential slowdown

**Hidden Dependency**: Findings share implicit state
- Example: Both modify same global/cache = race condition

**Error Path Collision**: Multiple error handlers interact badly
- Example: Retry logic (A) + timeout (B) = infinite loop

## Output Format

Return JSON:
```json
{
  "issues": [
    {
      "severity": "critical|high|medium",
      "issue": "Combined issue description",
      "interaction_type": "cascade|amplification|hidden_dependency|error_collision",
      "findings_involved": [0, 3],
      "combined_impact": "What happens when both issues exist",
      "scenario": "Specific sequence that triggers combined failure",
      "recommendation": "How to address the combined issue"
    }
  ],
  "interactions_examined": ["interaction1", "interaction2"],
  "no_interaction_found": ["interaction3 - these findings are independent because..."]
}
```

## Be Specific

Don't flag theoretical interactions. Show:
1. The specific code path where they combine
2. A realistic scenario that triggers it
3. Why the combined impact is worse than individual
