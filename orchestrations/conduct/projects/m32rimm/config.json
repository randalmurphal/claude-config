{
  "name": "conduct-m32rimm",
  "version": "1.0.0",
  "description": "m32rimm-optimized conduct orchestration with domain-specific validation",

  "agents": {
    "spec_parser": {
      "name": "spec_parser",
      "model": "opus",
      "schema": "spec_parser",
      "allowed_tools": ["Read", "Glob"],
      "timeout": 300
    },
    "impact_analyzer": {
      "name": "impact_analyzer",
      "model": "opus",
      "schema": "impact_analysis",
      "allowed_tools": ["Read", "Grep", "Glob", "Bash"],
      "timeout": 300
    },
    "skeleton_builder": {
      "name": "skeleton_builder",
      "model": "haiku",
      "schema": "skeleton_builder",
      "allowed_tools": ["Read", "Write", "Glob", "Grep"],
      "disallowed_tools": ["Bash"],
      "prompt_template": "skeleton",
      "timeout": 600
    },
    "implementation_executor": {
      "name": "implementation_executor",
      "model": "sonnet",
      "schema": "implementation",
      "allowed_tools": ["Read", "Write", "Edit", "Glob", "Grep"],
      "disallowed_tools": ["Bash"],
      "prompt_template": "implement_m32rimm",
      "timeout": 1200
    },
    "mongo_validator": {
      "name": "mongo_validator",
      "model": "opus",
      "schema": "validator",
      "allowed_tools": ["Read", "Glob", "Grep"],
      "disallowed_tools": ["Write", "Edit", "Bash"],
      "prompt_template": "validate_mongo",
      "timeout": 600,
      "description": "MongoDB operations validator - flush, subID, retry_run"
    },
    "import_validator": {
      "name": "import_validator",
      "model": "sonnet",
      "schema": "validator",
      "allowed_tools": ["Read", "Glob", "Grep"],
      "disallowed_tools": ["Write", "Edit", "Bash"],
      "prompt_template": "validate_imports",
      "timeout": 300,
      "description": "Import framework validator - tracking, flush, BO structure"
    },
    "general_validator": {
      "name": "general_validator",
      "model": "opus",
      "schema": "validator",
      "allowed_tools": ["Read", "Glob", "Grep"],
      "disallowed_tools": ["Write", "Edit", "Bash"],
      "prompt_template": "validate_general",
      "timeout": 1200,
      "description": "General code quality - logging, try/except, type hints"
    },
    "finding_validator": {
      "name": "finding_validator",
      "model": "opus",
      "schema": "validator",
      "allowed_tools": ["Read", "Glob", "Grep"],
      "disallowed_tools": ["Write", "Edit", "Bash"],
      "prompt_template": "finding_validator",
      "timeout": 600,
      "description": "Challenges ALL findings - expects 30-50% false positives"
    },
    "fix_executor": {
      "name": "fix_executor",
      "model": "sonnet",
      "schema": "fix_executor",
      "allowed_tools": ["Read", "Write", "Edit", "Glob", "Grep", "Bash"],
      "prompt_template": "fix_m32rimm",
      "timeout": 600
    },
    "investigator": {
      "name": "investigator",
      "model": "opus",
      "allowed_tools": ["Read", "Glob", "Grep", "Bash"],
      "timeout": 300,
      "description": "Voting and judgment tasks"
    },
    "test_runner": {
      "name": "test_runner",
      "model": "sonnet",
      "schema": "test_runner",
      "allowed_tools": ["Bash", "Read"],
      "timeout": 600
    }
  },

  "validation": {
    "max_fix_attempts": 3,
    "reviewers_per_validation": 3,
    "require_all_pass": false,
    "escalate_on_same_issue": true,
    "same_issue_threshold": 2,
    "finding_validation_enabled": true,
    "expected_false_positive_rate": 0.35
  },

  "risk": {
    "low_threshold": 3,
    "medium_threshold": 10,
    "high_threshold": 25,
    "impact_vote_threshold": 10,
    "reviewers_by_risk": {
      "low": 2,
      "medium": 3,
      "high": 4,
      "critical": 5
    },
    "validator_model_by_risk": {
      "low": "sonnet",
      "medium": "sonnet",
      "high": "opus",
      "critical": "opus"
    }
  },

  "validator_selection": {
    "always": ["general_validator"],
    "conditional": [
      {
        "validator": "mongo_validator",
        "trigger": "any file uses: db., pymongo, DBOpsHelper, retry_run, businessObjects"
      },
      {
        "validator": "import_validator",
        "trigger": "any file in: imports/, or uses: data_importer, insert_data_importer"
      }
    ]
  },

  "prompts_dir": "projects/m32rimm/prompts",
  "finding_classification": "projects/m32rimm/finding_classification.md",
  "state_dir": ".spec",
  "claude_path": "/home/rmurphy/.claude/local/claude",
  "default_model": "sonnet",
  "permission_mode": "default"
}
